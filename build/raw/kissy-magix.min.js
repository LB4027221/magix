KISSY.add("magix/event",function(g,b){var a=b.safeExec;return{trigger:function(b,c,h,k){var i="~~"+b+"_list",d=this[i];if(d){c||(c={});if(!c.type)c.type=b;if(k)for(b=d.length-1;0<=b&&!(!1===a(d[b],c,this));b--);else{b=0;for(k=d.length;b<k&&!(!1===a(d[b],c,this));b++);}}h&&delete this[i]},bind:function(a,b){var h="~~"+a+"_list";this[h]||(this[h]=[]);this[h].push(b)},unbind:function(a,b){var h="~~"+a+"_list",k=this[h];if(k)if(b)for(var h=0,i=k.length;h<i;h++){if(k[h]==b){k.splice(h,1);break}}else delete this[h]}}},
{requires:["magix/magix"]});
KISSY.add("magix/impl/magix",function(g){return{include:function(b){var b=g.Config.packages.magix.path+b+".js?r="+Math.random(),a=new (window.ActiveXObject||window.XMLHttpRequest)("Microsoft.XMLHTTP");a.open("GET",b,!1);a.send(null);return a.responseText},libRequire:function(b,a){g.use(b,function(b,c){a(c)})},libEnv:function(){var b=this.config(),a=b.appHome;if(!a)throw Error("please set appHome");a=a.replace(/(^|\/)app\/?/i,function(a,b){return b||"./"});b.appHome=a;if(!b.release&&/^https?:\/\//.test(a))b.release=
-1==a.indexOf(location.protocol+"//"+location.host);b.release||g.config({map:[[RegExp("("+a+".+)-min\\.js(\\?[^?]+)?"),"$1.js$2"]]});g.config({packages:[{name:"app",path:a,tag:b.release?"":g.now()}]});b.viewChangeAnim&&g.use("mxext/vfanim")},isArray:g.isArray,isFunction:g.isFunction,isObject:g.isObject,isRegExp:g.isRegExp,isString:g.isString,isNumber:g.isNumber}});
KISSY.add("magix/impl/router",function(g){return{useHistoryState:function(){var b=this,a=location.href;g.one(window).on("popstate",function(){var g=location.href==a;if(b.$canFirePopState||!g)b.$canFirePopState=!0,b.route()})},useLocationHash:function(){var b=this;g.one(window).on("hashchange",function(){b.suspend();b.route();b.resume()})}}});
KISSY.add("magix/impl/view",function(g,b,a,l){var a=function(){},c={idIt:1,wrapAsyncUpdate:1,registerAsyncUpdateName:1,extend:1};a.extend=function(a,b){var i=function(){i.superclass.constructor.apply(this,arguments);b&&l.safeExec(b,[],this)},d;for(d in this)l.hasProp(c,d)&&(i[d]=this[d]);return g.extend(i,this,a)};l.mix(a.prototype,{getTmplByXHR:function(a,c){b({url:a,dataType:"html",success:function(a){c(a)},error:function(a,d){c(d)}})},delegateUnbubble:function(a,b){var i=this;if(!i.$cacheEvents)i.$cacheEvents=
{};a=g.one(a);a.delegate(b,"*[mx"+b+"]",i.$cacheEvents[b]=function(a){i.processEvent(a)})},undelegateUnbubble:function(a,b){var i=this.$cacheEvents;i&&(a=g.one(a),a.undelegate(b,"*[mx"+b+"]",i[b]),delete i[b])}});return a},{requires:["ajax","sizzle","magix/magix"]});
KISSY.add("magix/magix",function(g,b){var a=function(a,d){return!a?!1:Object.prototype.hasOwnProperty.call(a,d)},l=function(b,d,o){for(var c in d)if(a(d,c)&&(!o||!a(o,c)))b[c]=d[c];return b},c=function(a,d,b,c,h,g){k.isArray(a)||(a=[a]);if(!d||!k.isArray(d)&&!d.callee)d=[d];for(c=0;c<a.length;c++)try{g=a[c],h=k.isFunction(g)&&g.apply(b,d)}catch(t){}return h},h=function(){throw Error("unimplement method");},k={isArray:h,isObject:h,isFunction:h,isRegExp:h,isString:h,isNumber:h,libRequire:h,include:h,
libEnv:h,mix:l,unimpl:h,hasProp:a,safeExec:c,noop:function(){},templates:{},cfg:{},locals:{},config:function(a){var d=this.cfg;if(a)this.cfg=l(d,a);return this.cfg},start:function(a){var d=this,a=d.config(a);d.libEnv();a.ready&&(c(a.ready),delete a.ready);d.libRequire("magix/router",function(a){d.libRequire("magix/vom",function(d){a.bind("locationChanged",function(a){a.changed.isViewPath()?d.remountRootVframe(a):d.notifyLocationChange(a)});a.bind("idle",function(){d.resume()});a.bind("busy",function(){d.suspend()});
a.start()})})},objectKeys:function(b){if(Object.keys)return Object.keys(b);var d=[],c;for(c in b)a(b,c)&&d.push(c);return d},local:function(b,d){var c=arguments,h=this.locals;if(0==c.length)return h;if(1==c.length)if(this.isObject(b))for(var g in b)a(b,g)&&(h[g]=b[g]);else return h[b];else h[b]=d}};return k.mix(k,b)},{requires:["magix/impl/magix"]});
KISSY.add("magix/router",function(g,b,a,l){var c=a.hasProp,h=function(a){return c(this.params,a)},k=function(){return c(this,m)},i=function(){return c(this,"viewPath")},d=function(){return this.hash[m]!=this.query[m]},o=function(a){return this.hash.params[a]!=this.query.params[a]},s=function(a){return c(this.hash.params,a)},x=function(a){return c(this.query.params,a)},n=function(a){return this.params[a]},t=a.safeExec,q=window,y=encodeURIComponent,u=decodeURIComponent,v=/\/[^\/]+?\/\.{2}\/|([^:\/])\/\/+/,
z=/[^\/]*$/,w=/([#?]).*$/,r=/([^=&?\/#]+)=([^&=#?]*)/g,m="pathname",g=a.mix({iQ:[],iC:0,useHistoryState:a.unimpl,useLocationHash:a.unimpl,compareObject:function(d,f){if(a.isObject(d)&&a.isObject(f)){for(var j=[],j=j.concat(a.objectKeys(d)),j=j.concat(a.objectKeys(f)),e=0;e<j.length;e++){var b=j[e];if(d[b]!=f[b])return!1}return!0}return d==f},getPathnameRelations:function(){if(this.$pnr)return this.$pnr;var d={virtualToReal:{},virtualRegExpToReal:{}},f=a.config().pathCfg,j=f.map,e=f.defaultView,b=
f.defaultPathname;if(a.isObject(j)){for(var o in j)if(c(j,o)){var h=o;"/"==h.charAt(h.length-1)&&(h+="index");for(var g=j[o],i=[],i=a.isArray(g)?g:a.isString(g)?g.split(","):[g],g=0;g<i.length;g++)a.isRegExp(i[g])?d.virtualRegExpToReal[h]=i[g]:(!b&&h==e&&(b=i[g]),d.virtualToReal[i[g]]=h)}e&&"/"==e.charAt(e.length-1)&&(e+="index")}if(!e||!b)throw Error("unset defaultPathname or defaultView attribute for pathCfg");d.home=e;d[m]=b;d.hasNotFound=c(f,"notFound");d.notFound=f.notFound;return this.$pnr=
d},getViewPath:function(a){var f=this.getPathnameRelations();a||(a=f[m]);var j=f.virtualToReal[a];if(!j)for(var e in f.virtualRegExpToReal)if(f.virtualRegExpToReal[e].test(a)){j=e;break}return{viewPath:j?j:f.hasNotFound?f.notFound:f.home,pathname:j?a:f.hasNotFound?a:f[m]}},start:function(){this.supportHistoryState()?this.useHistoryState():this.useLocationHash();this.route()},supportHistoryState:function(){var d=q.history;return a.config().useHistoryState&&d.pushState&&d.replaceState},pathToObject:function(d){var f=
{},j={},e=q.location.protocol,b="";w.test(d)?b=d.replace(w,""):~d.indexOf("=")||(b=d);if(b)if(0==b.indexOf(e))e=b.indexOf("/",e.length+2),b=-1==e?"/":b.substring(e);else if("/"!=b.charAt(0)&&a.config().useHistoryState&&!this.supportHistoryState()){e=q.location[m].replace(z,"");for(e+=b;v.test(e);)e=e.replace(v,"$1/");b=e}d.replace(r,function(f,a,e){j[a]=e});f[m]=b;f.params=j;return f},objectToPath:function(a){var f=a[m],j=[],e;for(e in a.params)c(a.params,e)&&j.push(e+"="+a.params[e]);return f+(j.length?
"?":"")+j.join("&")},parseQueryAndHash:function(){var b=u(q.location.href),f=this.$QH;if(f&&f.p==b)return f.o;var j=b.replace(/^[^?#]+/g,""),f=q.location[m]+j.replace(/^([^#]+).*$/g,"$1"),j=j.replace(/^[^#]*#?/g,""),e=this.pathToObject(f),c=this.pathToObject(j.replace(/^!?/,"")),h={};a.mix(h,e.params);a.mix(h,c.params);f=this.$QH={p:b,o:{isPathnameDiff:d,isParamDiff:o,hashParamsOwn:s,queryParamsOwn:x,get:n,originalQuery:f,originalHash:j,query:e,hash:c,params:h}};return f.o},parseLocation:function(){var d=
this.parseQueryAndHash(),f=this.getViewPath(a.config().useHistoryState?d.hash[m]?d.hash[m]:d.query[m]:d.hash[m]);return a.mix(d,f)},getChangedLocation:function(d,f){var j={params:{}};d[m]!=f[m]&&(j[m]=!0);if(d.viewPath!=f.viewPath)j.viewPath=!0;for(var e=a.objectKeys(d.params),e=e.concat(a.objectKeys(f.params)),b=0;b<e.length;b++){var c=e[b];d.params[c]!=f.params[c]&&(j.params[c]=!0)}j.isParam=h;j.isPathname=k;j.isViewPath=i;return j},route:function(){var a=this.parseLocation(),f=this.$location||
{params:{}},j=!this.$location,e;a.viewPath==(f.viewPath||"")?this.compareLocation(f,a)||(e=!0):e=!0;e&&(f=this.getChangedLocation(f,a),this.trigger("locationChanged",{location:a,changed:f,firstFired:j}));this.$location=a;this.resume()},compareLocation:function(a,f){return a[m]!=f[m]?!1:this.compareObject(a.params,f.params)},navigate2:function(d){var f=this;d&&a.isString(d)&&f.idle(function(){f.suspend();f.trigger("busy");var j=f.pathToObject(d),e=a.mix({},f.$location.params),e=a.mix(e,j.params);if(j[m]){if(a.config().useHistoryState&&
!f.supportHistoryState()&&(e=f.$location.query)&&(e=e.params))for(var b in e)c(e,b)&&!c(j.params,b)&&(j.params[b]="")}else j.params=e,j[m]=f.$location[m];f.compareLocation(j,f.$location)?f.resume():(j=f.objectToPath(j),f.supportHistoryState()?(f.$canFirePopState=!0,history.pushState(new Date,document.title,j),f.route()):location.hash="#!"+j)})},navigate:function(d,f){if(a.isObject(d)){var j=[],e;for(e in d)j.push(e+"="+y(d[e]));d=j.join("&");f&&(d=f+"?"+d)}this.navigate2(d)},idle:function(a){this.iC?
this.iQ.push(a):t(a)},suspend:function(){this.iC++},resume:function(){0<this.iC&&this.iC--;if(!this.iC)if(this.iQ.length){var a=[].slice.call(this.iQ);for(this.iQ=[];a.length;)this.idle(a.shift())}else this.trigger("idle")}},l);return a.mix(g,b)},{requires:["magix/impl/router","magix/magix","magix/event"]});
KISSY.add("magix/vframe",function(g,b,a){var l=document,c=0,h=b.safeExec,k=function(a){return"object"==typeof a?a:l.getElementById(a)},i=function(a){this.id=i.idIt(a);this.viewId=this.id+"_view";this.children=[];this.view=null;this.ready={o:{},c:0}};b.mix(i,{tagName:"vframe",idIt:function(a){return a.id||(a.id="magix_vf_"+c++)},createVframe:function(a,c){var a=k(a),h=new i(a);b.mix(h,c);return h},createVframeNode:function(a,b){var c=l.createElement(i.tagName);c.id=a;b.parentNode.insertBefore(c,b)}});
l.createElement(i.tagName);b.mix(i.prototype,a);b.mix(i.prototype,{viewChangeUseAnim:function(){return!1},oldViewDestroy:b.noop,prepareNextView:b.noop,newViewCreated:b.noop,mountView:function(a){var c=this,h=c.viewName&&c.viewChangeUseAnim();c.unmountView(h,!0);if(a)c.viewName=a,b.libRequire(a,function(b){if(a==c.viewName){b.wrapAsyncUpdate();var g;h?(g=c.viewId,c.prepareNextView()):g=c.id;var i=new b({viewName:a,owner:c,ownerVOM:c.owner,id:g,vId:c.viewId,vfId:c.id});i.bind("ready",function(a){i.bind("created",
function(){c.trigger("viewLoad",{view:i},!0);c.viewCreated=!0});h&&c.newViewCreated(!0);a.tmpl||c.loadSubVframes();i.bind("rendered",function(){c.loadSubVframes()});i.bind("prerender",function(a){c.unloadSubVframes(a.anim)})});c.view=i;i.load()}})},unmountView:function(a,b){this.view?(this.unloadSubVframes(a),this.view.destroy(a),a&&b&&this.oldViewDestroy(),delete this.view,delete this.viewName):this.viewName&&(this.unbind("viewLoad"),this.unbind("childrenCreated"),delete this.viewName)},loadSubVframes:function(){var a=
this;a.owner.suspend();var c=(k(a.viewId)||k(a.id)).getElementsByTagName(i.tagName),h=c.length;if(h)for(var g=0,n;g<h;g++)n=c[g],n=i.createVframe(n,{owner:a.owner,parentId:a.id}),a.children.push(n.id),a.owner.registerVframe(n),n.bind("childrenCreated",function(){var c=a.ready,h=this.id;b.hasProp(c.o,h)||(c.o[h]=1,c.c++);if(c.c==a.children.length)a.ready={o:{},c:0},a.notifyChildrenCreated()}),n.mountView(c[g].getAttribute("data-view"));else a.notifyChildrenCreated();a.owner.resume()},unloadSubVframes:function(a){for(var b=
this.children,c,h=0,g=b.length,i;h<g;h++)i=b[h],c=this.owner.getVframe(i),c.unmountView(a),this.owner.unregisterVframe(c),k(i).id="";this.children=[]},postMessageTo:function(a,c){var g=this.owner;b.isArray(a)||(a=[a]);c||(c={});for(var i=0;i<a.length;i++){var k=g.getVframe(a[i]);if(k){var l=k.view;l&&l.rendered?h(l.receiveMessage,c,l):k.viewName&&k.bind("viewLoad",function(a){h(a.view.receiveMessage,c,a.view)})}}},notifyLocationChange:function(a){var c=this.view;if(c&&c.exist&&c.rendered){if(h(c.testObserveLocationChanged,
a,c))var g=h(c.locationChange,a,c);if(!1!==g){if(!b.isArray(g))g=this.children;for(var c=0,i=g.length,k;c<i;c++)(k=this.owner.getVframe(g[c]))&&h(k.notifyLocationChange,a,k)}}},notifyChildrenCreated:function(){var a=this,b=function(){var b=a.view;b&&h(b.trigger,"childrenCreated",b);a.trigger("childrenCreated",0,!0)};a.viewCreated?b():a.bind("viewLoad",b)}});return i},{requires:["magix/magix","magix/event"]});
KISSY.add("magix/view",function(g,b,a,l){var c=1,h=a.safeExec,k=a.hasProp,i=["render","renderUI","updateUI"],d=function(f){a.mix(this,f);this.exist=!0;this.iQ=[];this.sign=this.iC=0},o=d.prototype,s=function(a,j){return function(){var e=this,b=arguments;e.idle(function(){j&&e.sign++;a.apply(e,b)})}},x=/(?:^|\s)return(?:(?:\s+[+\-\w$'"{\[\(\/])|[+\-{\[\(\/'"])/,n=/{([\s\S]+)}/,t=/\\[\s\S]/g,q=/\s*\/\s*/g,y=/^[\s\xa0\u3000\uFEFF]*$/,u=[/[^\w$_]\/[\s\S]*?\//,/(?:'[^']*')|(?:"[^"]*")/,/{[^{}]+}/],v=function(a){if(a=
(""+a).match(n)){a=a[1];if(y.test(a))return!0;for(var a=a.replace(t,"").replace(q,""),j=0,e;j<u.length;j++)for(e=u[j];e.test(a);)a=a.replace(e,"");return x.test(a)}return!1};a.mix(d,{idIt:function(a){return a.id||(a.id="magix_mxe_"+c++)},wrapAsyncUpdate:function(){if(!this["~~"]){this["~~"]=1;var f=this.prototype,j;this.registerAsyncUpdateName();for(var e in f){j=f[e];var b=null;a.isFunction(j)&&j!=a.noop&&!j["~~"]&&!v(j)&&(k(this.$ans,e)?b=s(j,!0):k(f,e)&&!k(o,e)&&(b=s(j)),b&&(b["~~"]=j,f[e]=b))}}},
registerAsyncUpdateName:function(f){if(!this.$ans){this.$ans={};for(var b=0;b<i.length;b++)this.$ans[i[b]]=!0}if(f){a.isArray(f)||(f=[f]);for(b=0;b<f.length;b++)this.$ans[f[b]]=!0}return this}});var z={blur:1,focus:1,focusin:1,focusout:1,mouseenter:1,mouseleave:1,mousewheel:1,valuechange:1},g=d.prototype,w=document,r=window,m=["abort","stop","cancel","destroy","dispose"],p=function(a){return"object"==typeof a?a:w.getElementById(a)};a.mix(g,l);a.mix(g,{getTmplByXHR:a.unimpl,delegateUnbubble:a.unimpl,
undelegateUnbubble:a.unimpl,render:a.noop,locationChange:a.noop,receiveMessage:a.noop,init:a.noop,hasTemplate:!0,enableEvent:!0,enableRefreshAnim:!1,load:function(){var f=this,b=function(){f.suspend();h(f.render,[],f);f.delegateBubbleEvents();f.idle(function(){if(!f.rendered)f.delegateUnbubbleEvents(),f.rendered=!0;h(f.init,[],f);f.trigger("created",null,!0);var b=a.config().viewLoad;a.isFunction(b)&&h(b,{name:f.viewName,location:f.getLocation()})});f.trigger("ready",{tmpl:f.hasTemplate},!0);f.resume()};
f.hasTemplate?f.getTemplate(f.manage(function(a){f.template=a;b()})):b()},updateViewId:function(){this.id=p(this.vId)?this.vId:this.vfId},setNodeHTML:function(a){p(this.id).innerHTML=a},setViewHTML:function(f){if(this.exist){this.trigger("refresh",null,!0,!0);var b=a.config().viewChangeAnim&&this.rendered&&this.enableRefreshAnim;this.trigger("prerender",{anim:b});this.destroyManaged(!0);this.undelegateUnBubbleEvents();this.destroyFrames();var e=this.owner;b&&(h(e.oldViewDestroy,[],e),h(e.prepareNextView,
[],e),this.updateViewId());if(!this.rendered)this.$bakHTML=p(this.id).innerHTML;this.setNodeHTML(f);b&&h(e.newViewCreated,[],e);this.delegateUnbubbleEvents();this.rendered=!0;this.trigger("rendered")}},postMessageTo:function(a,b){this.idle(this.owner.postMessageTo,[a,b],this.owner)},idle:function(f,b,e){var c=this;c.iC?c.iQ.push([f,b,e]):c.ownerVOM.idle(function(){c.exist&&a.isFunction(f)&&h(f,b,e)})},getLocation:function(){return this.ownerVOM.$location},observeLocation:function(b,c){var e=arguments;
1==e.length&&(c=!1);if(e.length)this.$location={keys:a.isArray(b)?b:(""+b).split(","),pn:c}},testObserveLocationChanged:function(a){var b=this.$location,a=a.changed;if(b){var e=!1;b.pn&&(e=a.isPathname());if(!e)for(var b=b.keys,c=0;c<b.length;c++)if(a.isParam(b[c])){e=!0;break}return e}return!0},destroyFrames:function(){for(var a=p(this.id).getElementsByTagName("iframe"),b,e;a.length;)b=a[0],e=b.parentNode,b.src="",e.removeChild(b);r.CollectGarbage&&r.CollectGarbage()},destroy:function(a){this.trigger("refresh",
null,!0,!0);this.trigger("destroy",null,!0,!0);this.destroyManaged();this.undelegateUnBubbleEvents();this.undelegateBubbleEvents();if(this.hasTemplate&&!a)this.destroyFrames(),p(this.vfId).innerHTML=this.$bakHTML||"";this.exist=!1;this.iQ=[];this.sign++},getTemplate:function(b){var c=this;if(c.template)b(c.template);else{var e=a.templates[c.viewName];if(e)b(e);else{var e=a.config(),d=e.appHome+c.viewName+".html";e.release||(d+="?_="+(new Date).getTime());c.getTmplByXHR(d,function(e){b(a.templates[c.viewName]=
e)})}}},processEvent:function(a){if(this.enableEvent&&this.exist){for(var b=a.target,c=b;1!=c.nodeType;)c=c.parentNode;for(var g="mx"+a.type,i=c.getAttribute(g),k=p(this.vfId);!i&&c!=k;)c=c.parentNode,i=c.getAttribute(g);if(i){var g=i.split(":"),i=g.shift(),k=g[g.length-1],m,c=d.idIt(c);if("_halt_"==k||"_stop_"==k)a.stopPropagation(),m=!0;if("_halt_"==k||"_prevent_"==k)a.preventDefault(),m=!0;m&&g.pop();m=this.events;for(var k=m[a.type],l=0,n;l<g.length;l++)n=g[l].lastIndexOf("@"),-1<n&&(g[g[l].substring(n+
1)]=g[l].substring(0,n));k[i]&&h(k[i],{view:this,currentId:c,targetId:d.idIt(b),domEvent:a,events:m,params:g},k)}}},fixedEvent:function(a){if(!a)a=r.event;if(a){if(!a.stopPropagation)a.stopPropagation=function(){a.cancelBubble=!0};if(!a.preventDefault)a.preventDefault=function(){a.returnValue=!1};if(a.srcElement&&!a.target)a.target=a.srcElement}return a},processDelegateEvents:function(a,b){var c=this;if(c.enableEvent){var d=c.events,g=p(c.vfId);if(c.$bubbleList&&c.$unbubbleList)for(var d=a?c.$bubbleList:
c.$unbubbleList,h=0;h<d.length;h++)a?g["on"+d[h]]=b?null:function(a){a=c.fixedEvent(a);c.processEvent(a)}:b?c.undelegateUnbubble(g,d[h]):c.delegateUnbubble(g,d[h]);else for(h in c.$bubbleList=[],c.$unbubbleList=[],d)k(d,h)&&(k(z,h)?(c.$unbubbleList.push(h),a||(b?c.undelegateUnbubble(g,h):c.delegateUnbubble(g,h))):(c.$bubbleList.push(h),a&&(g["on"+h]=b?null:function(a){a=c.fixedEvent(a);c.processEvent(a)})))}},delegateBubbleEvents:function(){this.processDelegateEvents(!0)},delegateUnbubbleEvents:function(){this.processDelegateEvents()},
undelegateUnBubbleEvents:function(){this.processDelegateEvents(!1,!0)},undelegateBubbleEvents:function(){this.processDelegateEvents(!0,!0)},manage:function(b,d){var e=!0;1==arguments.length&&(d=b,b="res_"+c++,e=!1);if(!this.$resCache)this.$resCache={};e={hasKey:e,res:d};a.isFunction(d)&&(d=this.wrapManagedFunction(d),e[this.sign]=d);this.$resCache[b]=e;return d},getManaged:function(b){var c=this.$resCache,e=this.sign;return c&&k(c,b)?(b=c[b],c=b.res,a.isFunction(c)&&(b[e]||(b[e]=this.wrapManagedFunction(c)),
c=b[e]),c):null},removeManaged:function(a){var b=this.$resCache;if(b)if(k(b,a))delete b[a];else for(var c in b)if(b[c].res===a){delete b[c];break}},destroyManaged:function(b){var c=this.$resCache;if(c){for(var d in c){var g=c[d],i=!1,k=g.res;if(a.isNumber(k))r.clearTimeout(k),r.clearInterval(k),i=!0;else if(k)for(var l=0;l<m.length;l++)a.isFunction(k[m[l]])&&(h(k[m[l]],[],k),i=!0);this.trigger("destroyResource",{resource:k,processed:i});b&&!g.hasKey&&delete c[d]}b||(this.unbind("destroyResource"),
delete this.$resCache)}},wrapManagedFunction:function(a){var b=this,c=b.sign;return function(){b.sign==c&&h(a,arguments,b)}},beginAsyncUpdate:function(){return this.sign++},signature:function(){return this.sign},endAsyncUpdate:function(){return this.sign},suspend:function(){this.iC++},resume:function(){0<this.iC&&this.iC--;if(!this.iC){var a=[].slice.call(this.iQ);for(this.iQ=[];a.length;)this.idle.apply(this,a.shift())}}});a.mix(d,b,{prototype:!0});a.mix(d.prototype,b.prototype);return d},{requires:["magix/impl/view",
"magix/magix","magix/event"]});
KISSY.add("magix/vom",function(g,b,a){var l=document;return{iC:0,iQ:[],rootVframe:null,vframes:{},rootVframeId:"magix_vf_root",registerVframe:function(a){this.vframes[a.id]=a},getVframe:function(a){return this.vframes[a]},unregisterVframe:function(b){delete this.vframes[a.isString(b)?b:b.id]},buildRootVframe:function(){if(!this.rootVframe)l.getElementById(this.rootVframeId)||b.createVframeNode(this.rootVframeId,l.body.firstChild),this.rootVframe=b.createVframe(this.rootVframeId,{owner:this}),this.registerVframe(this.rootVframe)},
remountRootVframe:function(a){this.$location=a.location;this.buildRootVframe();this.rootVframe.mountView(a.location.viewPath)},notifyLocationChange:function(a){this.$location=a.location;this.rootVframe&&this.rootVframe.notifyLocationChange(a)},idle:function(b,g,k){this.iC?this.iQ.push([b,g,k]):a.safeExec(b,g,k)},suspend:function(){this.iC++},resume:function(){0<this.iC&&this.iC--;if(!this.iC){var a=this.iQ;if(a.length){a=[].slice.call(a);for(this.iQ=[];a.length;)this.idle.apply(this,a.shift())}}}}},
{requires:["magix/vframe","magix/magix"]});(function(g){var b=function(){};if(!g.console)g.console={log:b,warn:b,error:b,debug:b};if(!g.Magix)g.Magix={start:function(a){this.$tempCfg=a}},KISSY.use("magix/magix",function(a,b){var c=g.Magix.$tempCfg;g.Magix=b;c&&b.start(c)})})(this);